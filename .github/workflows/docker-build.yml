name: Docker Build

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Build Backend
      run: docker build -t chat-app-backend ./backend
    
    - name: Build Guest Frontend
      run: docker build -t chat-app-guest-frontend ./guest-frontend
    
    - name: Build Admin Frontend
      run: docker build -t chat-app-admin-frontend ./admin-frontend
    
    - name: Test Docker Compose
      run: docker compose config

